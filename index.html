<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Sunalein Store</title>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

  // Firebase Konfiguration
  const firebaseConfig = {
    apiKey: "AIzaSyD9mfFsqwuZFX0lYHUrE3SZ7YW4YPFJMSs",
    authDomain: "sunalein-store.firebaseapp.com",
    databaseURL: "https://sunalein-store-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "sunalein-store",
    storageBucket: "sunalein-store.appspot.com",
    messagingSenderId: "919907710842",
    appId: "1:919907710842:web:c5669a0e0380c4718648c3",
    measurementId: "G-XSMVJH11W7"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);

  const itemsRef = ref(db, "items");

  function render(items) {
    const container = document.getElementById("itemsContainer");
    container.innerHTML = "";
    for (let key in items) {
      const item = items[key];
      const div = document.createElement("div");
      div.className = "item";
      div.innerHTML = `
        <h3>${item.name}</h3>
        <p>Preis: ${item.price !== null ? item.price.toFixed(2) + "â‚¬" : "Preis auf Anfrage"}</p>
        <p>Kategorie: ${item.cat}</p>
      `;
      container.appendChild(div);
    }
  }

  // Realtime Updates
  onValue(itemsRef, (snapshot) => {
    const data = snapshot.val();
    render(data || {});
  });
</script>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  #itemsContainer { display: flex; flex-wrap: wrap; gap: 15px; }
  .item { border: 1px solid #ccc; padding: 10px; width: 200px; }
</style>
</head>
<body>
<h1>Sunalein Store</h1>
<div id="itemsContainer"></div>
<p><a href="admin.html">Admin Panel</a></p>
</body>
</html>
